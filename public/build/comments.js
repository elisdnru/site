!function(){function a(e){var t=document.querySelector("#comment-parent-id");void 0!==t&&(t.value=e)}document.addEventListener("click",function(t){var e;t.target.matches(".ajax_like")&&(t.preventDefault(),(e=new FormData).set("_csrf",getCSRFToken()),axios({method:"post",url:t.target.dataset.url,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(e){document.querySelector("#"+t.target.dataset.load).innerHTML=e.data}).catch(function(e){console.log(e)}))}),function(){var r=document.querySelector("#comment-form"),e=document.querySelectorAll(".comment .reply");[].forEach.call(e,function(e){var t=document.createElement("a");t.classList.add("reply"),t.dataset.id=e.dataset.id,t.href="#comment-form",t.innerText=e.innerText,e.parentNode.replaceChild(t,e)});var t=document.querySelectorAll(".comment .reply");[].forEach.call(t,function(n){n.addEventListener("click",function(){var e=n.parentNode.parentNode;r.parentElement.removeChild(r),r.style["margin-left"]=parseInt(e.style["margin-left"])+20+"px",e.after(r);var t=parseInt(this.dataset.id);return r.querySelector("form").setAttribute("action","#comment_"+t),a(t),!1})});var n=document.querySelector(".reply-comment");n&&n.addEventListener("click",function(){return r.parentElement.removeChild(r),r.style["margin-left"]=0,this.after(r),a(0),!1})}()}();