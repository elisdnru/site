/*! Fotorama 2.0.2 (v1320) | http://fotoramajs.com/license.txt */
(function(e){function oa(b){for(var a={},e=0;e<Y.length;e++){var A=Y[e][0],o=Y[e][1];if(b){var k=b.attr("data-"+A);k&&("number"==o?(k=Number(k),isNaN(k)||(a[A]=k)):"boolean"==o?"true"==k?a[A]=!0:"false"==k&&(a[A]=!1):"string"==o?a[A]=k:"boolean-number"==o&&("true"==k?a[A]=!0:"false"==k?a[A]=!1:(k=Number(k),isNaN(k)||(a[A]=k))))}else a[A]=Y[e][2]}return a}function pa(b,a){for(var e={},o=0;o<Da.length;o++)e[Da[o]+b]=a;return e}function qa(b,a){if(ra)return pa("transform",a?"translate(0,"+b+"px)":"translate("+
b+"px,0)");var e={};e[a?"top":"left"]=b;return e}function ob(){return!1}function sa(b){return pa("transition-duration",b+"ms")}function pb(b){b.mousemove(function(a){a.preventDefault()}).mousedown(function(a){a.preventDefault()})}function Nb(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function Sa(f,a){function nb(c,d,b){c&&(ta.no.test(c)||ta.px.test(c)?(ha=j=Number((""+c).replace("px","")),Z=ia=!1):ta["%"].test(c)?
(Ta=Number((""+c).replace("%",""))/100,ia=!a().flexible,j||(j=f.width()*(q?1:Ta)-(a().vertical&&w?w.width():0)),Z=!1):Z=!0);d&&(ta.no.test(d)||ta.px.test(d)?(ua=m=Number((""+d).replace("px","")),$=!1):$=!0);if("auto"==c||!c||"auto"==d||!d){var b=Number(b),n=u.filter(function(){return e(this).data("state")!="error"}).filter(":first").data("srcKey");if(isNaN(b)||!b)b=null,n&&(b=p[n].imgRatio);if(b){Ea=Fa=C=b;if(n){if("auto"==c||!c)ha=j=p[n].imgWidth,Z=!0;if("auto"==d||!d)ua=m=p[n].imgHeight,$=!0}$&&
b&&!Z&&(ua=m=Math.round(j/b));!$&&b&&Z&&(ha=j=Math.round(m*b))}}}function A(c){var d;if(a().fitToWindowHeight||q)d=aa.height();if(!C||c)Ea=Fa=C=j/m;a().thumbs&&!F&&(F=a().vertical?w.width():w.height());C=rb?Ea:Fa;f.css({overflow:ia||q?"hidden":""});ia||q?j=f.width()*(q?1:Ta)-(a().vertical&&F?F:0):ha&&(j=ha);q?(m=d-(!a().vertical&&F?F:0),C=j/m):$?m=Math.round(j/C):(m=ua,C=j/m);if(a().fitToWindowHeight&&!q&&m>d-20-(!a().vertical&&F?F:0))m=d-20-(!a().vertical&&F?F:0),C=j/m}function z(c,d,b){A(c);d||
(d=0);var n=j!=Ca||m!=sb||C!=tb;if(c||n){a().vertical?(s=m,Ga=j):(s=j,Ga=m);r.add(u).animate({width:j,height:m},d);a().thumbs&&a().vertical&&(a().thumbsOnRight?w.animate({left:j},d):r.animate({left:F},d));a().touchStyle?(Ua=(s+a().margin)*v-a().margin,ub=Ga,c={},c[L]=Ua,c[S]=ub,E.animate(c,d).data(c).data({minPos:-(Ua-s),maxPos:0})):E.animate({width:j,height:m},d);a().thumbs&&(a().vertical?w.animate({height:m},d):w.animate({width:j},d),a().thumbsPreview&&n&&vb(d,b),w.css({visibility:"visible"}));
Va&&!a().vertical&&(a().arrows&&ja.animate({top:m/2},d),c={},c[Ha]=Ga/2,O.animate(c,d));if("loading"==Ia||"error"==Ia)c={},c[G]=(a().touchStyle?x:0)*(s+a().margin)+s/2,O.animate(c,d);H&&a().touchStyle&&(b=-x*(s+a().margin),ba(E,b,0));wb=!0;var g=0;e(Wa).each(function(){clearTimeout(this)});Wa=[];P(H,x,d);u.each(function(a){if(a!=x){var c=e(this);c.data("img")&&c.data("img").css({visibility:"hidden"});var d=setTimeout(function(){P(c,a)},g*50+50);Wa.push(d);g++}})}Ca=j;sb=m;tb=C}function k(){var c=
H.data("srcKey");c&&p[c].imgWidth&&p[c].imgHeight&&p[c].imgRatio&&(ha=j=p[c].imgWidth,ua=m=p[c].imgHeight,Fa=C=p[c].imgRatio,z(!1,a().transitionDuration))}function T(c,d,qb){function n(){a().touchStyle||(d=0);O.css(G,d*(s+a().margin)+s/2);xb=setTimeout(function(){O.stop().show().fadeTo(0,1)},100)}clearTimeout(xb);"loading"==c?(n(),f.addClass(b+"_loading").removeClass(b+"_error"),Xa||O.html("<span>&middot;&middot;&middot;</span>").css({backgroundImage:"none"})):"error"==c?(n(),f.addClass(b+"_error").removeClass(b+
"_loading"),Xa||O.html("<span>?</span>").css({backgroundImage:"none"})):"loaded"==c&&(f.removeClass(b+"_loading "+b+"_error"),O.stop().fadeTo(Math.min(y,qb),0,function(){O.hide()}));Ia=c}function Q(){return{index:x,src:p[x],img:H[0],thumb:a().thumbs?ca[0]:null,caption:Ya}}function ba(c,d,b,n){var g=isNaN(d)?0:Math.round(d);clearTimeout(c.data("backAnimate"));n?(g=n,c.data({backAnimate:setTimeout(function(){ba(c,d,Math.max(y,b/2))},b)})):a().onSlideStop&&setTimeout(function(){a().onSlideStop.call(f[0],
Q())},b);b&&(clearTimeout(yb),Ja=!0);ra?(c.css(sa(b)),setTimeout(function(){c.css(qa(g,a().vertical))},1)):c.stop().animate(qa(g,a().vertical),b,Za);yb=setTimeout(function(){Ja=false;a().flexible&&c==E&&k()},b)}function U(c,d,b){if(I){if(!b||I<s)Ka=!1;var n=ca.position()[G],b=ca.data()[L];if(!b&&La)da.hide(),La=!1;else{La||(da.show(),La=!0);if(I>s){var g=n+b/2,e=s/2,f=J.index(ca),h=f-zb;void 0==R&&(R=t.position()[G]);if($a&&d&&d>Math.max(36,2*a().thumbMargin)&&d<s-Math.max(36,2*a().thumbMargin)&&
(0<h&&d>0.75*e||0>h&&d<1.25*e)){var B;B=0<h?f+1:f-1;0>B?B=0:B>v-1&&(B=v-1);f!=B&&(g=J.eq(B),g=g.position()[G]+g.data()[L]/2,e=d)}d=-(I-s);g=Math.round(-(g-e)+a().thumbMargin);if(0<h&&g>R||0>h&&g<R)g=n+R<a().thumbMargin?-(n-a().thumbMargin):n+R+b>s?-(2*n-s+b+a().thumbMargin):R;g<=d?g=d:g>=a().thumbMargin&&(g=a().thumbMargin);t.data({minPos:d});l(g);ea||t.data({maxPos:a().thumbMargin})}else g=s/2-I/2,t.data({minPos:g}),ea||t.data({maxPos:g});!Ka&&!ea?(ba(t,g,c),Ma&&(Ka=!0),R=g):Ma=!0;var j=b-(Ab?0:
2*a().thumbBorderWidth);ra?(da.css(sa(c)),setTimeout(function(){da.css(qa(n,a().vertical)).css(L,j)},1)):a().vertical?da.stop().animate({top:n,height:j},c,Za):da.stop().animate({left:n,width:j},c,Za)}}}function l(c){a().shadows&&I>s&&(w.addClass(b+"__thumbs_shadow"),c<=t.data("minPos")?w.removeClass(b+"__thumbs_shadow_no-left").addClass(b+"__thumbs_shadow_no-right"):c>=a().thumbMargin?w.removeClass(b+"__thumbs_shadow_no-right").addClass(b+"__thumbs_shadow_no-left"):w.removeClass(b+"__thumbs_shadow_no-left "+
b+"__thumbs_shadow_no-right"))}function vb(a,d){if(!ka&&!ea&&!va&&!Ja||d)q||l(),U(a?a:0,!1,!d)}function P(c,d,b){var n=c.data("img"),g=c.data("detached"),b=b?b:0;if(n&&!g){var e=c.data("srcKey"),g=p[e].imgWidth,f=p[e].imgHeight,h=p[e].imgRatio,B=e=0;a().touchStyle&&c.css(G,d*(s+a().margin));if(g!=j||f!=m||a().alwaysPadding||q){var k=0;if(0.99>h/C||1.01<h/C||a().alwaysPadding||q)k=2*a().minPadding;h>=C?a().cropToFit?(f=m,g=Math.round(f*h)):(g=Math.round(j-k)<g||a().zoomToFit||q&&p[d].imgRel?Math.round(j-
k):g,f=Math.round(g/h),4>m-f&&(f+=m-f)):a().cropToFit?(g=j,f=Math.round(g/h)):(f=Math.round(m-k)<f||a().zoomToFit||q&&p[d].imgRel?Math.round(m-k):f,g=Math.round(f*h),4>j-g&&(g+=j-g))}g&&f&&(h={width:g,height:f},f!=m&&(e=Math.round((m-f)/2)),g!=j&&(B=Math.round((j-g)/2)),h.top=e,h.left=B,n.animate(h,b));n.css({visibility:"visible"});b=c.data("img");n=c.data("srcKey");d=p[d].imgRel;if(b&&d&&d!=n&&!wa&&(g=b.data("full"),c=c.data("detached"),(q&&!g||!q&&g)&&!c))b[0].src=q?d:n,b.data({full:q})}else n&&
g&&c.data({needToResize:!0})}function V(c,d,f,n){function g(e){function m(){k.css({visibility:"hidden"});j.src=e;0==B&&(k.appendTo(d),"thumb"==n&&(I+=D+a().thumbMargin,t.css(L,I).data(L,I),d.css(L,D).data(L,D)))}function o(){la[e]="loaded";k.unbind("error load").error(function(){k[0].src=e;p[c].imgRel=!1;P(u.eq(c),c);k.unbind("error")});d.trigger("load."+b).data({state:"loaded"});setTimeout(function(){p[e]||(p[e]=[],p[e].imgWidth=k.width(),p[e].imgHeight=k.height(),p[e].imgRatio=p[e].imgWidth/p[e].imgHeight);
f(j,p[e].imgWidth,p[e].imgHeight,p[e].imgRatio,e,c)},100);"thumb"==n&&(Na++,Na==v&&($a=!0))}function K(a){la[e]="error";k.unbind("error load");B<h.length&&a?(B++,g(h[B])):(d.trigger("error."+b).data({state:"error"}),"thumb"==n&&(Na++,Na==v&&($a=!0)))}if(la[e]){var s=function(){"error"==la[e]?K(!1):"loaded"==la[e]?o():setTimeout(s,100)};m();s()}else la[e]="loading",k.unbind("error load").error(function(){K(!0)}).load(o),m()}u.eq(c);var j=new Image,k=e(j),h=[],B=0,m=p[c].imgHref,K=p[c].imgSrc,o=p[c].thumbSrc;
if("img"==n){if(m&&(h.push(m),h.push(m+"?"+ma)),K&&(h.push(K),h.push(K+"?"+ma)),o)h.push(o),h.push(o+"?"+ma)}else if(o&&(h.push(o),h.push(o+"?"+ma)),K&&(h.push(K),h.push(K+"?"+ma)),m)h.push(m),h.push(m+"?"+ma);g(h[B])}function ab(c,d){if(c.data("wraped"))a().detachSiblings&&c.data("detached")&&(c.data({detached:!1}).appendTo(E),c.data("needToResize")&&(P(c,d),c.data({needToResize:!1})));else if(E.append(c.data({state:"loading"})),d!=x&&!a().touchStyle&&c.stop().fadeTo(0,0),c.data({wraped:!0,detached:!1}),
V(d,c,function(f,g,k,qb,h){f=e(f);f.addClass(b+"__img");c.data({img:f,srcKey:h});h=!1;if((!j||!m)&&!wb||!bb&&d==a().startImg)j=g,a().width=g,$?(m=k,a().height=k):Z&&(j=Math.round(m*(g/k)),a().width=j),h=!0,bb=d==a().startImg;h||a().flexible?z(!0):P(c,d);c.css({visibility:"visible"})},"img"),cb&&M[d].html&&M[d].html.length||a().html&&a().html[d]&&a().html[d].length){var f=M[d].html||a().html[d];c.append(f)}}function Ob(c,d){var b=0,f=!1,g=[],k=[],m=q?Math.min(1,a().preload):a().preload;for(i=0;i<2*
m+1;i++){var h=d-m+i;if(0<=h&&h<v&&!a().loop||a().loop){0>h&&(h=v+h);h>v-1&&(h-=v);if(!u.eq(h).data("wraped")||u.eq(h).data("detached"))b++,g.push(h);k.push(h)}else f=!0}if(b>=m||f)e(g).each(function(a){setTimeout(function(){ab(u.eq(g[a]),g[a])},50*a)}),a().detachSiblings&&u.filter(function(a){for(var c=e(this),b=!1,g=0;g<k.length&&!b;g++)k[g]==a&&(b=!0);return"loading"!=c.data("state")&&!b&&d!=a}).data({detached:!0}).detach()}function Y(c){c||(c=0);clearTimeout(Bb);Bb=setTimeout(function(){na&&f.trigger("showimg",
[x+1,!1,!0])},Math.max(a().autoplay,2*c))}function W(c,d,m,n,g,j,o){function h(){a().caption&&((Ya=M[l].caption?M[l].caption:M[l].title)?fa.html(Ya).show():fa.html("").hide())}function B(){if(a().shadows||!a().touchStyle)p.removeClass(b+"__frame_active"),c.addClass(b+"__frame_active")}var p,K,r,l=u.index(c);u.each(function(){e(this).unbind("load."+b+" error."+b)});"number"!=typeof g&&(g=n?0:a().transitionDuration);!n&&d&&d.altKey&&(g*=10);d=c.data("state");"loading"==d||!d?(T("loading",l,g),c.one("load."+
b,function(){T("loaded",l,g);h()}),c.one("error."+b,function(){T("error",l,g);h()})):"error"==d?T("error",l,g):d!=Ia&&T("loaded",l,0);h();H?(p=H,r=x,a().thumbs&&(K=ca)):(p=u.not(c),a().thumbs&&(K=J.not(J.eq(l))));a().thumbs&&(ca=J.eq(l),r&&(zb=r),K.removeClass(b+"__thumb_selected").data("disabled",!1),ca.addClass(b+"__thumb_selected").data("disabled",!0));a().thumbs&&a().thumbsPreview&&(r!=l||n)&&U(g,m);if(a().touchStyle)m=-l*(s+a().margin),B(),ba(E,m,g,j);else{var t=function(d){if(r!=l||n){var b=
g,e=0;if(d){b=0;e=g}u.not(p.stop()).stop().fadeTo(0,0);setTimeout(function(){B();c.stop().fadeTo(b,1,function(){p.not(c).stop().fadeTo(e,0,function(){a().flexible&&k()})})},10)}};"loaded"==d?t():"error"==d?t(!0):(c.one("load."+b,function(){t()}),c.one("error."+b,function(){t(true)}))}H=c;x=l;a().hash&&document.location.replace("#"+(x+1));na&&!o&&a().stopAutoplayOnAction&&(na=!1);Y(g);var q=Q();f.data(q);a().arrows&&((0==x||2>v)&&!a().loop?xa.addClass(b+"__arr_disabled").data("disabled",!0):xa.removeClass(b+
"__arr_disabled").data("disabled",!1),(x==v-1||2>v)&&!a().loop?ya.addClass(b+"__arr_disabled").data("disabled",!0):ya.removeClass(b+"__arr_disabled").data("disabled",!1));var V=c.data("wraped");clearTimeout(Cb);Cb=setTimeout(function(){if(!V&&l!=a().startImg){ab(c,l);a().onShowImg&&a().onShowImg.call(f[0],q,o)}Ob(c,l)},g+10);if(V||l==a().startImg)ab(c,l),a().onShowImg&&a().onShowImg.call(f[0],q,o)}function X(c,d){d.stopPropagation();d.preventDefault();var b=x+c;0>b&&(b=a().loop?v-1:0);b>v-1&&(b=a().loop?
0:v-1);W(u.eq(b),d)}function oa(){clearTimeout(Db);Db=setTimeout(function(){z()},50)}function pa(){Eb||(aa.bind("resize",oa),o&&window.addEventListener("orientationchange",oa,!1),Eb=!0)}f.data({ini:!0,options:a});a=function(){return f.data("options")};a().backgroundColor&&!a().background&&(a().background=a().backgroundColor);a().thumbsBackgroundColor&&!a().navBackground&&(a().navBackground=a().thumbsBackgroundColor);a().thumbColor&&!a().dotColor&&(a().dotColor=a().thumbColor);null!==a().click&&(a().pseudoClick=
a().click);if(!0===a().nav||"true"==a().nav||"thumbs"==a().nav)a().thumbs=!0,a().thumbsPreview=!0;else if("dots"==a().nav)a().thumbs=!0,a().thumbsPreview=!1;else if(!1===a().nav||"false"==a().nav||"none"==a().nav)a().thumbs=!1;a().caption&&(!0===a().caption||"true"==a().caption||"simple"==a().caption?a().caption=!0:"overlay"!=a().caption&&(a().caption=!1));"top"==a().navPosition?(a().thumbsOnTop=!0,a().thumbsOnRight=!1):"right"==a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!0):"bottom"==
a().navPosition?(a().thumbsOnTop=!1,a().thumbsOnRight=!1):"left"==a().navPosition&&(a().thumbsOnTop=!1,a().thumbsOnRight=!1);var Ia,ma=(new Date).getTime();a().hash&&document.location.hash&&(a().startImg=parseInt(document.location.hash.replace("#",""))-1);var M,cb=a().data&&("object"==typeof a().data||"string"==typeof a().data);M=cb?e(a().data).filter(function(){return this.img||this.href||this.length}):f.children().filter(function(){var a=e(this);return(a.is("a")&&a.children("img").size()||a.is("img"))&&
(a.attr("href")||a.attr("src")||a.children().attr("src"))});var v=M.size();f.data({size:v});a().preload=Math.min(a().preload,v);if(a().startImg>v-1||"number"!=typeof a().startImg)a().startImg=0;var p=[];M.each(function(c){if(cb)p[c]={imgHref:this.img?this.img:this.href?this.href:this.length?""+this:null,thumbSrc:this.thumb,imgRel:this.full};else{var d=e(this);p[c]={imgHref:d.attr("href"),imgSrc:d.attr("src"),thumbSrc:d.children().attr("src"),imgRel:d.attr("rel")?d.attr("rel"):d.children().attr("rel")};
if(a().caption)this.caption=d.attr("alt")||d.children().attr("alt")}});f.html("").addClass(b+" "+(a().vertical?b+"_vertical":b+"_horizontal"));if(db||wa)var Da=f.wrap('<div class="fotorama-outer"></div>').parent();a().arrows||(a().loop=!0);var la=[],s,Ga,j,m,ha,ua,Ta=1,$=!0,Z=!0,ia,ta={no:/^[0-9.]+$/,px:/^[0-9.]+px/,"%":/^[0-9.]+%/},C,Fa,Ea,Ca,sb,tb,wb,bb,rb,q,Eb,Ja,yb,Fb,Gb,Cb,na,Bb;if(!0===a().autoplay||"true"==a().autoplay||0<a().autoplay)na=!0;"number"!=typeof a().autoplay&&(a().autoplay=5E3);
if(a().touchStyle)var Ua=0,ub,za=!1,va=!1,Hb;if(a().thumbs&&a().thumbsPreview)var ea=!1,Ka=!1,Ma=!1,ka=!1,Ib,$a=!1,Na=0;var G,Ha,N,Oa,L,S;a().vertical?(G="top",Ha="left",N="pageY",Oa="pageX",L="height",S="width"):(G="left",Ha="top",N="pageX",Oa="pageY",L="width",S="height");var r=e('<div class="'+b+'__wrap"></div>').appendTo(f),E=e('<div class="'+b+'__shaft"></div>').appendTo(r);a().touchStyle||(pb(r),pb(E));var O=e('<div class="'+b+'__state"></div>').appendTo(E);("white"==a().preloader||a().background&&
a().background.match(/(white|#fff|#FFF)/))&&O.addClass(b+"__state_white");var xb;if(a().fullscreenIcon)var ga=e('<div class="'+b+'__fsi"><i class="i1"><i class="i1"></i></i><i class="i2"><i class="i2"></i></i><i class="i3"><i class="i3"></i></i><i class="i4"><i class="i4"></i></i><i class="i0"></i></div>').appendTo(r);o&&f.addClass(b+"_touch");wa&&(a().shadows=!1);a().touchStyle?(r.addClass(b+"__wrap_style_touch"),a().shadows&&r.append('<i class="'+b+"__shadow "+b+'__shadow_prev"></i><i class="'+
b+"__shadow "+b+'__shadow_next"></i>')):r.addClass(b+"__wrap_style_fade");a().shadows&&f.addClass(b+"_shadows");ra&&f.addClass(b+"_csstransitions");if(a().arrows){var eb,fb;a().vertical?(eb=a().arrowPrev?a().arrowPrev:"&#9650;",fb=a().arrowNext?a().arrowNext:"&#9660;"):(eb=a().arrowPrev?a().arrowPrev:"&#9668;",fb=a().arrowNext?a().arrowNext:"&#9658;");var ja=e('<i class="'+b+"__arr "+b+'__arr_prev">'+eb+'</i><i class="'+b+"__arr "+b+'__arr_next">'+fb+"</i>").appendTo(r),xa=ja.eq(0),ya=ja.eq(1);if(!o&&
a().pseudoClick){var Jb,Kb,Sa=function(){clearTimeout(Kb);Kb=setTimeout(function(){var c=Jb>=s/2;ya[!c?"removeClass":"addClass"](b+"__arr_hover");xa[c?"removeClass":"addClass"](b+"__arr_hover");a().touchStyle||E.css({cursor:c&&ya.data("disabled")||!c&&xa.data("disabled")?"default":"pointer"})},10)};r.mousemove(function(a){Jb=a[N]-r.offset()[G];Sa()})}}else!a().touchStyle&&a().pseudoClick&&1<v&&E.css({cursor:"pointer"});if(!o){var gb=!1,hb,Pb=function(){gb=true;clearTimeout(hb);a().arrows&&ja.css(sa(0));
r.removeClass(b+"__wrap_mouseout");setTimeout(function(){a().arrows&&ja.css(sa(a().transitionDuration));setTimeout(function(){r.addClass(b+"__wrap_mouseover")},1)},1)},Lb=function(){clearTimeout(hb);hb=setTimeout(function(){!za&&!gb&&r.removeClass(b+"__wrap_mouseover").addClass(b+"__wrap_mouseout")},a().transitionDuration*3)};r.mouseenter(function(){Pb()});r.mouseleave(function(){gb=false;Lb()})}var H,x,Ya,u=e();M.each(function(){var a=e('<div class="'+b+'__frame" style="visibility: hidden;"></div>');
u=u.add(a)});if(a().thumbs){var D=Number(a().thumbSize);if(isNaN(D)||!D)D=a().vertical?64:48;var ca,zb=0,w=e('<div class="'+b+'__thumbs" style="visibility: hidden;"></div>')[a().thumbsOnTop?"prependTo":"appendTo"](f),F;a().thumbsPreview&&(F=D+2*a().thumbMargin,w.addClass(b+"__thumbs_previews").css(S,F));var t=e('<div class="'+b+'__thumbs-shaft"></div>').appendTo(w);if(a().thumbsPreview){var I=0,R=void 0;a().shadows&&e('<i class="'+b+"__shadow "+b+'__shadow_prev"></i><i class="'+b+"__shadow "+b+'__shadow_next"></i>').appendTo(w);
var Qb=D-(Ab?0:2*a().thumbBorderWidth),Rb=a().thumbMargin,Pa={};Pa[S]=Qb;Pa[Ha]=Rb;Pa.borderWidth=a().thumbBorderWidth;var da=e('<i class="'+b+'__thumb-border"></i>').css(Pa).appendTo(t),La}M.each(function(){var c;if(a().thumbsPreview){c=e('<div class="'+b+'__thumb"></div>');var d={};d[S]=D;d.margin=a().thumbMargin;c.css(d)}else c=e('<i class="'+b+'__thumb"><i class="'+b+'__thumb__dot"></i></i>');c.appendTo(t)});var J=e("."+b+"__thumb",f);if(a().thumbsPreview)var Sb=function(c,d,f,n,g,k){d=e(c);n=
a().vertical?Math.round(D/n):Math.round(D*n);if(Qa.canvas){d.remove();d=e('<canvas class="'+b+'__thumb__img"></canvas>');d.appendTo(J.eq(k))}else d.addClass(b+"__thumb__img");f={};f[L]=n;f[S]=D;d.attr(f).css(f).css({visibility:"visible"});if(Qa.canvas){d[0].getContext("2d");d[0].getContext("2d").drawImage(c,0,0,a().vertical?D:n,a().vertical?n:D)}I=I+(n+a().thumbMargin-(D+a().thumbMargin));t.css(L,I);f[S]=null;J.eq(k).css(f).data(f);vb()},ib=function(a){if(!ka&&!ea&&!va&&!Ja){a||(a=0);V(a,J.eq(a),
Sb,"thumb");setTimeout(function(){a+1<v&&ib(a+1)},50)}else setTimeout(function(){ib(a)},100)}}if(a().caption){var fa=e('<p class="'+b+'__caption"></p>');if("overlay"==a().caption)fa.appendTo(r).addClass(b+"__caption_overlay");else{fa.appendTo(f);var Tb=fa.wrap('<div class="'+b+'__caption-outer"></div>').parent()}}nb(a().width,a().height,a().aspectRatio);var Wa=[];W(u.eq(a().startImg),!1,!1,!0,!1,!1,!0);j&&m&&(bb=!0,z());a().thumbs&&a().thumbsPreview&&ib(0);a().thumbs&&(a().dotColor&&!a().thumbsPreview&&
J.children().css({backgroundColor:a().dotColor}),a().navBackground&&w.css({background:a().navBackground}),a().thumbsPreview&&a().thumbBorderColor&&da.css({borderColor:a().thumbBorderColor}));a().background&&r.add(u).css({background:a().background});a().arrowsColor&&a().arrows&&ja.css({color:a().arrowsColor});var Db=!1;pa();f.bind("dblclick",Nb);f.bind("showimg",function(c,d,b,f){if(typeof d!="number")if(d=="next")d=x+1;else if(d=="prev")d=x-1;else if(d=="first")d=0;else if(d=="last")d=v-1;else{d=
x;f=true}d>v-1&&(d=0);(!a().touchStyle||!va)&&W(u.eq(d),c,false,false,b,false,f)});f.bind("play",function(c,d){na=true;d=Number(d);if(!isNaN(d))a().autoplay=d;Y(y)});f.bind("pause",function(){na=false});f.bind("rescale",function(a,d,b,f,g){nb(d,b,f);Ea=C=j/m;rb=!ia;g=Number(g);isNaN(g)&&(g=0);z(false,g)});f.bind("fullscreenopen",function(){Fb=aa.scrollTop();Gb=aa.scrollLeft();q=true;ga&&ga.trigger("mouseleave",true);aa.scrollTop(0);jb.add(Ra).addClass("fullscreen");f.addClass(b+"_fullscreen");(db||
wa)&&f.appendTo(Ra).addClass(b+"_fullscreen_quirks");a().caption&&!a().caption!="overlay"&&fa.appendTo(r);pa();H&&W(H,false,false,true,0,false,true);z(false,false,true)});f.bind("fullscreenclose",function(){q=false;ga&&ga.trigger("mouseleave",true);jb.add(Ra).removeClass("fullscreen");f.removeClass(b+"_fullscreen");(db||wa)&&f.appendTo(Da).removeClass(b+"_fullscreen_quirks");a().caption&&!a().caption!="overlay"&&fa.appendTo(Tb);aa.scrollTop(Fb);aa.scrollLeft(Gb);if(!ia){j=a().width;m=a().height}H&&
W(H,false,false,true,0,false,true);a().flexible?k():z(false,false,true)});Aa.bind("keydown",function(c){q&&(c.keyCode==27&&!a().fullscreen?f.trigger("fullscreenclose"):c.keyCode==39||c.keyCode==40?f.trigger("showimg",x+1):(c.keyCode==37||c.keyCode==38)&&f.trigger("showimg",x-1))});if(a().thumbs){var kb=function(a){a.stopPropagation();if(!e(this).data("disabled")){var d=J.index(e(this)),b=a[N]-w.offset()[G];W(u.eq(d),a,b)}};J.bind("click",kb)}a().arrows&&(xa.bind("click",function(a){e(this).data("disabled")||
X(-1,a)}),ya.bind("click",function(a){e(this).data("disabled")||X(1,a)}));!a().touchStyle&&!o&&a().pseudoClick&&r.bind("click",function(c){var d=c[N]-r.offset()[G]>=s/2;if(a().onClick)var b=a().onClick.call(f[0],Q());b!==false&&(!c.shiftKey&&d&&a().arrows||c.shiftKey&&!d&&a().arrows||!a().arrows&&!c.shiftKey?X(1,c):X(-1,c))});ga&&ga.bind("click",function(a){a.stopPropagation();f.trigger(q?"fullscreenclose":"fullscreenopen")}).bind("mouseenter mouseleave",function(a,d){d&&a.stopPropagation();ga[a.type==
"mouseenter"?"addClass":"removeClass"](b+"__fsi_hover")});a().fullscreen&&f.trigger("fullscreenopen");if(a().touchStyle||o||a().thumbs&&a().thumbsPreview)var Mb=function(c,b,f,e){function g(f){if((o||f.which<2)&&H){var g=function(){t=(new Date).getTime();p=l;r=j;q=[[t,l]];clearTimeout(c.data("backAnimate"));ra?c.css(sa(0)):c.stop();h=c.position()[G];c.css(qa(h,a().vertical));s=h;b()};if(o)if(o&&f.targetTouches.length==1){l=f.targetTouches[0][N];j=f.targetTouches[0][Oa];g();c[0].addEventListener("touchmove",
k,false);c[0].addEventListener("touchend",m,false)}else{if(o&&f.targetTouches.length>1)return false}else{l=f[N];f.preventDefault();g();Aa.mousemove(k);Aa.mouseup(m)}}}function k(b){function d(){b.preventDefault();v=(new Date).getTime();q.push([v,l]);var g=p-l;h=s-g;if(h>c.data("maxPos")){h=Math.round(h+(c.data("maxPos")-h)/1.5);z="left"}else if(h<c.data("minPos")){h=Math.round(h+(c.data("minPos")-h)/1.5);z="right"}else z=false;a().touchStyle&&c.css(qa(h,a().vertical));f(h,g,z)}if(o){if(o&&b.targetTouches.length==
1){l=b.targetTouches[0][N];j=b.targetTouches[0][Oa];if(w)A===true&&d();else if(Math.abs(l-p)-Math.abs(j-r)>=-5){A=true;b.preventDefault();w=true}else if(Math.abs(j-r)-Math.abs(l-p)>=-5){A="prevent";w=true}}}else{l=b[N];d()}}function m(a){if(!o||!a.targetTouches.length){if(o){c[0].removeEventListener("touchmove",k,false);c[0].removeEventListener("touchend",m,false)}else{Aa.unbind("mouseup");Aa.unbind("mousemove")}u=(new Date).getTime();var b=-h,d=u-Ba,f,g,j,p;for(i=0;i<q.length;i++){f=Math.abs(d-q[i][0]);
if(i==0){g=f;j=u-q[i][0];p=q[i][1]}if(f<=g){g=f;j=q[i][0];p=q[i][1]}}d=p-l;f=d>=0;j=u-j;e(b,j,j<=Ba,u-x,f===V,d,a,A);x=u;V=f;w=A=false}}var h,l,j,p,r,s,t,q=[],v,V,u,x=0,A=false,w=false,z=false;o?c[0].addEventListener("touchstart",g,false):c.mousedown(g)};if(a().touchStyle||o){var lb=!1;Mb(E,function(){va=true},function(c,d,f){clearTimeout(Hb);if(!za){a().shadows&&r.addClass(b+"__wrap_shadow");o||E.addClass(b+"__shaft_grabbing");za=true}if(a().shadows)if(f){c=f=="left"?"right":"left";r.addClass(b+
"__wrap_shadow_no-"+f).removeClass(b+"__wrap_shadow_no-"+c)}else a().shadows&&r.removeClass(b+"__wrap_shadow_no-left "+b+"__wrap_shadow_no-right");if(Math.abs(d)>=5&&!lb){lb=true;e("a",r).bind("click",ob)}},function(c,d,k,n,g,j,l,h){va=false;Hb=setTimeout(function(){!o&&a().arrows&&Lb();lb=false;e("a",r).unbind("click",ob)},Ba);o||E.removeClass(b+"__shaft_grabbing");a().shadows&&r.removeClass(b+"__wrap_shadow");var g=n=false,m,p;if(a().html){m=e(l.target);p=m.filter("a");p.length||(p=m.parents("a"))}if(a().touchStyle)if(za){k&&
(j<=-10?n=true:j>=10&&(g=true));k=y;h=Math.round(c/(s+a().margin));if(n||g){var d=-j/d,j=Math.round(-c+d*250),q;if(n){h=Math.ceil(c/(s+a().margin))-1;c=-h*(s+a().margin);if(j>c){q=Math.abs(j-c);k=Math.abs(k/(d*250/(Math.abs(d*250)-q*0.97)));q=c+q*0.03}}else if(g){h=Math.floor(c/(s+a().margin))+1;c=-h*(s+a().margin);if(j<c){q=Math.abs(j-c);k=Math.abs(k/(d*250/(Math.abs(d*250)-q*0.97)));q=c-q*0.03}}}if(h<0){h=0;q=false;k=y}if(h>v-1){h=v-1;q=false;k=y}W(u.eq(h),l,false,false,k,q)}else{if(a().html&&p.length)return false;
if(a().onClick&&h!="prevent")var t=a().onClick.call(f[0],Q());if(t!==false&&a().pseudoClick&&!o&&d<Ba){q=l[N]-r.offset()[G]>=s/2;!l.shiftKey&&q&&a().arrows||l.shiftKey&&!q&&a().arrows||!a().arrows&&!l.shiftKey?X(1,l):X(-1,l)}else W(H,l,false,false,false,false,true)}else{if(j==0&&a().html&&p.length)return false;j>=0?X(1,l):j<0&&X(-1,l)}za=false});if(a().touchStyle&&a().thumbs&&a().thumbsPreview){var mb=!1;Mb(t,function(){Ka=ea=true},function(a,b){if(!ka&&Math.abs(b)>=5){J.unbind("click",kb);mb=true;
clearTimeout(Ib);ka=true}l(a)},function(a,b,f,e,g,k,j){ka=ea=false;Ib=setTimeout(function(){if(mb){J.bind("click",kb);mb=false}},Ba);var e=a=-a,h,g=y*2;if(Ma&&ka){U(0,false,false);Ma=false}if(a>t.data("maxPos")){e=t.data("maxPos");g=g/2}else if(a<t.data("minPos")){e=t.data("minPos");g=g/2}else if(f){b=-k/b;e=Math.round(a+b*250);if(e>t.data("maxPos")){h=Math.abs(e-t.data("maxPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));e=t.data("maxPos");h=e+h*0.04}else if(e<t.data("minPos")){h=Math.abs(e-
t.data("minPos"));g=Math.abs(g/(b*250/(Math.abs(b*250)-h*0.96)));e=t.data("minPos");h=e-h*0.04}}j.altKey&&(g=g*10);R=e;if(e!=a){ba(t,e,g,h);l(e)}})}}}var Qa=function(b,a,e){function o(a,b){var f=a.charAt(0).toUpperCase()+a.substr(1),f=(a+" "+Q.join(f+" ")+f).split(" ");return z(f,b)}function z(a,b){for(var f in a)if(T[a[f]]!==e)return"pfx"==b?a[f]:!0;return!1}b={};a.head||a.getElementsByTagName("head");var k=a.createElement("modernizr"),T=k.style,Q=["Webkit","Moz","O","ms","Khtml"],k={},ba=[],U,l=
{}.hasOwnProperty,y;typeof l!==e&&typeof l.call!==e?y=function(a,b){return l.call(a,b)}:y=function(a,b){return b in a&&typeof a.constructor.prototype[b]===e};k.canvas=function(){var b=a.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};k.csstransforms=function(){return!!z(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};k.csstransitions=function(){return o("transitionProperty")};for(var P in k)y(k,P)&&(U=P.toLowerCase(),b[U]=k[P](),ba.push((b[U]?
"":"no-")+U));T.cssText="";k=null;b._version="2.0.6";b._domPrefixes=Q;b.testProp=function(a){return z([a])};b.testAllProps=o;return b}(this,this.document);e.extend({bez:function(b){var a="bez_"+e.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof jQuery.easing[a]){var o=function(a,b){var f=[null,null],e=[null,null],o=[null,null],y=function(y,l){return o[l]=3*a[l],e[l]=3*(b[l]-a[l])-o[l],f[l]=1-o[l]-e[l],y*(o[l]+y*(e[l]+y*f[l]))};return function(a){for(var b=a,A=0,z;14>++A;){z=y(b,
0)-a;if(0.001>Math.abs(z))break;b-=z/(o[0]+b*(2*e[0]+3*f[0]*b))}return y(b,1)}};jQuery.easing[a]=function(a,e,k,y,Q){return y*o([b[0],b[1]],[b[2],b[3]])(e/Q)+k}}return a}});var o="ontouchstart"in document,wa=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|iemobile|windows ce|netfront|playstation|midp|up\.browser|symbian|nintendo|wii)/),ra=Qa.csstransforms&&Qa.csstransitions&&!e.browser.mozilla,Va=e.browser.msie,db=Va&&"6.0"==e.browser.version,Ab="CSS1Compat"!=document.compatMode&&Va,Ba=
300,Za=e.bez([0.1,0,0.25,1]),y=333,b="fotorama",aa=e(window),Aa=e(document),jb,Ra,Y=[["width","string",null],["height","string",null],["aspectRatio","number",null],["touchStyle","boolean",!0],["click","boolean",null],["pseudoClick","boolean",!0],["loop","boolean",!1],["autoplay","boolean-number",!1],["stopAutoplayOnAction","boolean",!0],["transitionDuration","number",y],["background","string",null],["backgroundColor","string",null],["margin","number",5],["minPadding","number",10],["alwaysPadding",
"boolean",!1],["zoomToFit","boolean",!0],["cropToFit","boolean",!1],["flexible","boolean",!1],["fitToWindowHeight","boolean",!1],["fullscreen","boolean",!1],["fullscreenIcon","boolean",!1],["vertical","boolean",!1],["arrows","boolean",!0],["arrowsColor","string",null],["arrowPrev","string",null],["arrowNext","string",null],["nav","string",null],["thumbs","boolean",!0],["navPosition","string",null],["thumbsOnTop","boolean",!1],["thumbsOnRight","boolean",!1],["navBackground","string",null],["thumbsBackgroundColor",
"string",null],["dotColor","string",null],["thumbColor","string",null],["thumbsPreview","boolean",!0],["thumbSize","number",null],["thumbMargin","number",5],["thumbBorderWidth","number",3],["thumbBorderColor","string",null],["caption","string",!1],["preload","number",3],["preloader","boolean","dark"],["shadows","boolean",!0],["data","array",null],["html","array",null],["hash","boolean",!1],["startImg","number",0],["onShowImg","function",null],["onClick","function",null],["onSlideStop","function",
null],["detachSiblings","boolean",!0]];e.fn[b]=function(b){"undefined"==typeof fotoramaDefaults&&(fotoramaDefaults={});var a=e.extend(oa(),e.extend({},fotoramaDefaults,b));this.each(function(){var b=e(this);b.data("ini")||Sa(b,a)});return this};e(function(){jb=e("html");Ra=e("body");e("."+b).each(function(){var f=e(this);f[b](oa(f))})});var Da=["-webkit-","-moz-","-o-","-ms-",""],Ca=new Image,Xa=!0;Ca.onerror=function(){if(1!=this.width||1!=this.height)Xa=!1};Ca.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="})(jQuery);